{% extends "base.html" %}

{% block content %}
  <div class="d-flex justify-content-between align-items-center">
    <h1>TODO list</h1><a href="{% url 'todo:task-create' %}" class="btn btn-primary">Add task</a>
  </div>
  {% for task in tasks %}
    <div class="card mb-3">
      <div class="card-body d-flex justify-content-between align-items-center">
        <h5><strong>{{ task }}</strong>
          {% if not task.status %}
            <span class="text-danger">Not done</span>
            {% else %}
            <span class="text-success">Done</span>
          {% endif %}
        </h5>
        {% if not task.status %}
          <a href="{% url 'todo:complete-task' pk=task.id %}" class="btn btn-success ml-auto">Complete</a>
      	{% else %}
          <a href="{% url 'todo:complete-task' pk=task.id %}" class="btn btn-secondary ml-auto">Undo</a>
        {% endif %}
      </div>
      <div class="card-footer">
        <span>Created: {{ task.datetime }}</span>
        {% if task.deadline %}
          <span style="color: #ff2c5a">Deadline: {{ task.deadline }}</span>
        {% endif %}
        <br>
        <span>Tags: {{ task.tag }}</span>
        <br>
        <a href="{% url 'todo:task-update' pk=task.id %}">Update</a>
        <a href="{% url 'todo:task-delete' pk=task.id %}">Delete</a>
      </div>
    </div>
  {% endfor %}
{% endblock %}
